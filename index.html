<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>光守卫-SEE 操作终端</title>
    <!-- 其他样式保持不变 -->
    <style>
        /* 保持原有样式代码 */
        :root {
            --primary: #0A2463;
            --secondary: #3E92CC;
            --light: #9ED8DB;
            --accent: #28B5B5;
            --dark: #051937;
            --text: #F0F7FF;
            --danger: #FF5E5B;
            --warning: #FFB830;
        }
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        /* 省略中间样式代码（与之前保持一致） */
    </style>
</head>
<body>
    <!-- 页面内容保持不变 -->
    <!-- 时钟和控制栏 -->
    <div class="clock-bar">
        <!-- 内容不变 -->
    </div>

    <div class="header">
        <!-- 内容不变 -->
    </div>

    <!-- 核心数据区域 -->
    <div class="core-stats">
        <!-- 内容不变 -->
    </div>

    <!-- 辅助数据区域 -->
    <div class="auxiliary-stats">
        <!-- 内容不变 -->
    </div>

    <!-- 功能模块区域（GitHub Pages适配版跳转） -->
    <div class="dashboard">
        <div class="module-card" onclick="navigateTo('revenue.html')">
            <!-- 内容不变 -->
        </div>
        <div class="module-card" onclick="navigateTo('alerts.html')">
            <!-- 内容不变 -->
        </div>
        <div class="module-card" onclick="navigateTo('cameras.html')">
            <!-- 内容不变 -->
        </div>
        <div class="module-card" onclick="navigateTo('settings.html')">
            <!-- 内容不变 -->
        </div>
    </div>

    <!-- 版本信息 -->
    <div style="text-align: center; margin-top: 40px; padding-top: 20px; border-top: 1px solid rgba(158, 216, 219, 0.1); color: rgba(240, 247, 255, 0.5); font-size: 12px;">
        光守卫-SEE 操作终端 v2.1.0 | 系统版本 Build 20260101
    </div>

    <script>
        // GitHub Pages Pages专用导航导航函数
        function navigateTo(page) {
            // 获取仓库名称（GitHub Pages通常是 username/userName/repoName/形式）
            // 请替换为你的仓库实际名称
            const repoName = "your-repo-name";  // 例如："solar-monitor-system"
            
            // 检测是否在GitHub Pages环境
            const isGitHubPages = window.location.hostname.includes('github.io');
            
            let basePath = '';
            if (isGitHubPages) {
                // GitHub Pages路径格式：/仓库名/页面
                basePath = `/${repoName}/`;
            }
            
            // 构建完整路径
            const fullPath = basePath + page;
            
            // 跳转
            window.location.href = fullPath;
        }

        // 实时时钟功能（保持不变）
        function updateClock() {
            const now = new Date();
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            const seconds = String(now.getSeconds()).padStart(2, '0');
            document.getElementById('current-time').textContent = `${hours}:${minutes}:${seconds}`;
            
            const year = now.getFullYear();
            const month = now.getMonth() + 1;
            const day = now.getDate();
            const weekdays = ['星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六'];
            const weekday = weekdays[now.getDay()];
            const currentDateText = `${year}年${month}月${day}日 ${weekday}`;
            document.getElementById('current-date').textContent = currentDateText;

            updateRelatedDates(now);
        }

        // 日期计算函数（保持不变）
        function updateRelatedDates(currentDate) {
            const lastMaintenance = new Date(currentDate);
            lastMaintenance.setDate(currentDate.getDate() - 3);
            document.getElementById('last-maintenance-date').textContent = formatDate(lastMaintenance);

            const lastCleaning = new Date(currentDate);
            lastCleaning.setDate(currentDate.getDate() - 6);
            document.getElementById('last-cleaning-date').textContent = formatDate(lastCleaning);

            const nextCleaning = new Date(currentDate);
            nextCleaning.setDate(currentDate.getDate() + 3);
            const daysUntilNextCleaning = 3;
            
            document.getElementById('next-cleaning-date').textContent = formatDate(nextCleaning);
            document.getElementById('days-until-next-cleaning').textContent = `距当前剩余${daysUntilNextCleaning}天`;
        }

        function formatDate(date) {
            const year = date.getFullYear();
            const month = String(date.getMonth() + 1).padStart(2, '0');
            const day = String(date.getDate()).padStart(2, '0');
            return `${year}-${month}-${day}`;
        }

        updateClock();
        setInterval(updateClock, 1000);

        // 模式切换功能（保持不变）
        const modeBtns = document.querySelectorAll('.mode-btn');
        modeBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                modeBtns.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
            });
        });

        // 信封点击事件（保持不变）
        document.querySelector('.mail-icon').addEventListener('click', () => {
            const nextCleanDate = document.getElementById('next-cleaning-date').textContent;
            alert(`您有2条未读消息：\n1. 清洁提醒：建议于${nextCleanDate}前完成光伏板清扫\n2. 系统更新通知：新版本V2.1.0已发布，支持更多数据可视化功能`);
        });
    </script>
</body>
</html>
